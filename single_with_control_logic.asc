Version 4
SHEET 1 1660 1372
WIRE -640 -416 -752 -416
WIRE -560 -368 -560 -480
WIRE -640 -352 -640 -416
WIRE -592 -352 -640 -352
WIRE -352 -336 -528 -336
WIRE -592 -320 -640 -320
WIRE 448 -320 448 -384
WIRE 608 -320 608 -384
WIRE 816 -320 816 -384
WIRE -640 -272 -640 -320
WIRE -640 -272 -752 -272
WIRE -560 -240 -560 -304
WIRE 448 -128 448 -240
WIRE 608 -128 608 -240
WIRE 608 -128 448 -128
WIRE 816 -128 816 -240
WIRE 816 -128 608 -128
WIRE 608 -80 608 -128
WIRE 704 208 352 208
WIRE 1120 208 704 208
WIRE -640 240 -752 240
WIRE -560 288 -560 176
WIRE -640 304 -640 240
WIRE -592 304 -640 304
WIRE 1120 304 1120 208
WIRE -352 320 -528 320
WIRE 352 320 352 208
WIRE 704 320 704 208
WIRE -592 336 -640 336
WIRE -640 384 -640 336
WIRE -640 384 -752 384
WIRE 1072 384 944 384
WIRE -560 400 -560 352
WIRE 944 432 944 384
WIRE 352 688 352 400
WIRE 352 688 272 688
WIRE 416 688 352 688
WIRE 432 688 416 688
WIRE 528 688 512 688
WIRE 576 688 528 688
WIRE 704 688 704 384
WIRE 704 688 656 688
WIRE 1120 688 1120 400
WIRE 1120 688 704 688
WIRE 416 784 416 688
WIRE 432 784 416 784
WIRE 528 784 528 688
WIRE 528 784 496 784
WIRE 1120 992 1120 688
WIRE 352 1008 352 688
WIRE 704 1008 704 688
WIRE 1072 1072 944 1072
WIRE 944 1120 944 1072
WIRE 352 1328 352 1088
WIRE 704 1328 704 1072
WIRE 704 1328 352 1328
WIRE 1120 1328 1120 1088
WIRE 1120 1328 704 1328
FLAG 272 688 0
FLAG 448 -384 VCC
FLAG 608 -384 Sin
FLAG 816 -384 Tri
FLAG 608 -80 COM
FLAG -352 -336 Sig
FLAG 1120 688 S1
FLAG 528 688 Out
SYMBOL voltage 352 304 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vdd
SYMATTR Value 24
SYMBOL voltage 352 992 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vss
SYMATTR Value 24
SYMBOL Diode 720 384 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMBOL Diode 720 1072 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMBOL Res 528 672 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10
SYMBOL nmos 1072 992 R0
SYMATTR InstName M2
SYMATTR Value BSP89
SYMBOL nmos 1072 304 R0
SYMATTR InstName M1
SYMATTR Value BSP89
SYMBOL Cap 496 768 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value .1m
SYMBOL Ind 560 704 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value .06
SYMBOL voltage 816 -336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value PULSE(-1 1 0 1e-4 1e-4 0 2e-4 100000)
SYMBOL Misc\\signal 608 -336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value SINE(0 1 60)
SYMBOL voltage 448 -336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 24
SYMBOL bv 944 416 R0
SYMATTR InstName B2
SYMATTR Value V=V(sig)-V(s1)
SYMBOL bv 944 1104 R0
SYMATTR InstName B3
SYMATTR Value V=V(sig-1)
SYMBOL bv -736 -416 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName B4
SYMATTR Value V=V(Tri) - V(COM)
SYMBOL bv -736 -272 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName B5
SYMATTR Value V=V(Sin) - V(COM)
SYMBOL bv -736 240 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName B1
SYMATTR Value V=V(Tri) - V(COM)
SYMBOL bv -736 384 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName B7
SYMATTR Value V=V(Sin) - V(COM)
SYMBOL bv -560 -464 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
SYMATTR InstName B6
SYMATTR Value V=V(VCC)-V(COM)
SYMBOL bv -560 192 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
SYMATTR InstName B8
SYMATTR Value V=V(VCC)-V(COM)
SYMBOL OpAmps\\UniversalOpAmp2 -560 -336 R0
SYMATTR InstName U1
SYMBOL OpAmps\\UniversalOpAmp2 -560 320 R0
SYMATTR InstName U2
TEXT 472 136 Left 2 !.tran 100m
